webpackJsonp([1],{"04kx":function(t,i){},Gsql:function(t,i){},NHnr:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n,s=e("7+uW");function r(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:MM";10===(t=parseInt(t)).toString().length&&(t*=1e3);var e=new Date(t),n=e.getFullYear(),s=(e.getMonth()+1<10?"0":"")+(e.getMonth()+1),r=(e.getDate()<10?"0":"")+e.getDate(),a=(e.getHours()<10?"0":"")+e.getHours(),o=(e.getMinutes()<10?"0":"")+e.getMinutes(),h=(e.getSeconds()<10?"0":"")+e.getSeconds(),l="";switch(i.toUpperCase()){case"YYYY-MM-DD HH:MM":l=n+"/"+s+"/"+r+" "+a+":"+o;break;case"YYYY-MM-DD HH:MM:SS":l=n+"/"+s+"/"+r+" "+a+":"+o+":"+h;break;default:l=n+"/"+s+"/"+r+" "+a+":"+o}return l}function a(t){return Math.round(t/1e3)}var o={name:"slider",model:{prop:"initData",event:"updateVal"},props:{initData:{type:Array},range:{type:Array},verbose:{type:Boolean,default:!1},formatter:{type:null|Function,default:null}},data:function(){return{isDown:!1,down_target:"",isOut:!1,begin:0,down_width:0,val:{left:0,right:0,actual_val:0},inter:{l_x:0,r_x:0,width:0,initData:0},wrap:{left:0,width:0,offsetX:0,initData:0},left_limit:0,right_limit:0,ts2Date:r,tipVisible:!1}},methods:{init:function(){this.wrap.width=this.$refs.wrap_box.getBoundingClientRect().width,this.wrap.initData=this.range[1]-this.range[0],n=this.wrap.initData/this.wrap.width,this.inter.initData=this.initData[1]-this.initData[0],this.inter.l_x=(this.initData[0]-this.range[0])/n,this.inter.r_x=(this.initData[1]-this.range[0])/n,this.inter.width=(this.initData[1]-this.initData[0])/n,this.wrap.left=this.inter.l_x,this.wrap.offsetX=this.inter.l_x,this.val.right=this.inter.initData+this.inter.l_x,this.val.left=this.inter.l_x,this.val.actual_val=this.val.right-this.val.left,this.down_width=this.inter.width,this.right_limit=this.wrap.width,this.left_limit=0},down:function(t){var i=t.target.id;this.on(window,"mousemove",this.moveHandler),this.on(window,"mouseup",this.upHandler),this.begin=t.pageX,this.down_target=i,this.isDown=!0,console.log("down, begin from",i)},changePos:function(t){var i=t.offsetX,e=this.inter.width/2,n=this.right_limit,s=this.left_limit,r=i>this.inter.r_x?i+e:i-e,a=this.isCross(r,s,n);console.log(t),0==this.isOut&&(0==a&&(this.inter.l_x=i-e,this.inter.r_x=i+e,this.wrap.left=this.wrap.offsetX=this.inter.l_x),1==a&&(this.wrap.left=this.wrap.offsetX=this.inter.l_x=s,this.inter.r_x=this.inter.l_x+this.inter.width),2==a&&(this.inter.r_x=n,this.wrap.offsetX=n-this.inter.width,this.wrap.left=this.inter.l_x=this.wrap.offsetX),this.computeVal())},upHandler:function(){this.isDown=!1,this.off(window,"mousemove",this.moveHandler),this.off(window,"mouseup",this.upHandler),this.inter.l_x=this.wrap.offsetX,this.wrap.left=this.wrap.offsetX,this.inter.r_x=this.inter.width+this.wrap.left,this.down_width=this.inter.width,this.from_move=!0},moveHandler:function(t){var i=t.pageX-this.begin;if(this.isDown&&"rCtrl"==this.down_target){var e=this.wrap.width,n=this.inter.l_x,s=this.isCross(this.wrap.left+this.down_width+i,n,e);this.isOut=!!s,0==s&&(this.inter.width=i+this.down_width,this.inter.r_x=this.inter.width+this.wrap.left),2==s&&(this.inter.width=e-this.wrap.left,this.inter.r_x=this.inter.width+this.wrap.left),1==s&&(this.inter.r_x=n,this.inter.width=this.inter.r_x-this.inter.l_x)}if(this.isDown&&"lCtrl"==this.down_target){var r=this.left_limit,a=this.inter.r_x,o=this.isCross(this.wrap.left+i,r,a);this.isOut=!!o,0==o&&(this.wrap.offsetX=this.wrap.left+i,this.inter.width=this.down_width-i,this.inter.l_x=this.wrap.offsetX),1==o&&(this.wrap.offsetX=r,this.inter.width=a,this.inter.l_x=this.wrap.offsetX),2==o&&(this.inter.l_x=this.inter.r_x,this.wrap.offsetX=this.inter.l_x,this.inter.width=this.inter.r_x-this.inter.l_x)}if(this.isDown&&"inBox"==this.down_target){var h=this.left_limit,l=this.right_limit-this.inter.width,f=this.isCross(this.wrap.left+i,h,l);this.isOut=!!f,1==f&&(this.wrap.offsetX=h,this.inter.r_x=h+this.inter.width),2==f&&(this.wrap.offsetX=l,this.inter.r_x=l+this.inter.width),0==f&&(this.wrap.offsetX=this.wrap.left+i,this.inter.r_x=this.wrap.offsetX+this.inter.width),this.inter.l_x=this.wrap.offsetX}this.computeVal()},isCross:function(t,i,e){return t<i?1:t>e?2:0},on:function(t,i,e){return document.addEventListener?t.addEventListener(i,e,!1):t.attachEvent("on"+i,e)},off:function(t,i,e){return document.removeEventListener?(console.log("remove"),t.removeEventListener(i,e,!1)):t.detachEvent("on",i,e)},computeVal:function(){this.val.left=this.inter.l_x*n+this.range[0],this.val.right=this.inter.r_x*n+this.range[0],this.val.actual_val=Math.floor(this.val.right-this.val.left),this.$emit("updateVal",[Math.floor(this.val.left),Math.floor(this.val.right)])},transfer:function(t){return this.formatter?this.formatter(t):t}},mounted:function(){this.init(),this.computeVal()},computed:{}},h={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"container"},[t.verbose?e("div",{staticClass:"verbose"},[e("p",[t._v("left: "+t._s(t.wrap.left))]),t._v(" "),e("p",[t._v("offsetX: "+t._s(t.wrap.offsetX))]),t._v(" "),e("p",[t._v("inter.l_x: "+t._s(t.inter.l_x))]),t._v(" "),e("p",[t._v("inter.r_x:"+t._s(t.inter.r_x))]),t._v(" "),e("p",[t._v("inter.width: "+t._s(t.inter.width))]),t._v(" "),e("p",[t._v("leftVal: "+t._s(t.val.left))]),t._v(" "),e("p",[t._v("rightVal: "+t._s(t.val.right))]),t._v(" "),e("p",[t._v("actualVal: "+t._s(t.val.actual_val))])]):t._e(),t._v(" "),e("div",{ref:"wrap_box",staticClass:"wrap-box",attrs:{id:"wrapBox"},on:{click:function(i){if(i.target!==i.currentTarget)return null;t.changePos(i)}}},[e("div",{ref:"in_box",staticClass:"in-box",style:{width:t.inter.width+"px",left:t.wrap.offsetX+"px"},attrs:{id:"inBox"},on:{mousedown:function(i){if(i.preventDefault(),i.target!==i.currentTarget)return null;t.down(i)}}},[e("div",{staticClass:"left ctrl-icon",attrs:{id:"lCtrl"},on:{mousedown:function(i){if(i.preventDefault(),i.target!==i.currentTarget)return null;t.down(i)}}},[e("div",{staticClass:"tip left-tip"},[t._v(t._s(t.transfer(t.initData[0])))])]),t._v(" "),e("div",{staticClass:"right ctrl-icon",attrs:{id:"rCtrl"},on:{mousedown:function(i){if(i.preventDefault(),i.target!==i.currentTarget)return null;t.down(i)}}},[e("div",{staticClass:"tip right-tip"},[t._v(t._s(t.transfer(t.initData[1])))])])])])])},staticRenderFns:[]};var l={name:"test",components:{slider:e("VU/8")(o,h,!1,function(t){e("04kx")},"data-v-5ee69f6d",null).exports},data:function(){return{initData:[a(+new Date)-108e3,a(+new Date)-72e3],range:[a(+new Date)-216e3,a(+new Date)]}},methods:{formatter:function(t){return r(t)}},mounted:function(){}},f={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"hello"},[e("slider",{attrs:{range:t.range,verbose:!0,formatter:t.formatter},model:{value:t.initData,callback:function(i){t.initData=i},expression:"initData"}}),t._v(" "),e("div",[t._v("\n      "+t._s(t.initData)+"\n    ")])],1)},staticRenderFns:[]};var u=e("VU/8")(l,f,!1,function(t){e("xyyV")},"data-v-c649c8bc",null).exports,d=e("Dd8w"),c=e.n(d),v=e("NYxO"),_={name:"vdemo",data:function(){return{}},methods:c()({},Object(v.b)({add:"addAsync",sub:"subAsync",updateInfo:"updateInfo"})),computed:c()({},Object(v.d)(["count","userName"]),Object(v.c)(["isDone"])),mounted:function(){window.data=this},beforeUpdate:function(){}},w={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("button",{on:{click:function(i){t.add(1)}}},[t._v("ADD")]),t._v(" "),e("button",{on:{click:function(i){t.sub(1)}}},[t._v("SUB")]),t._v(" "),e("div",[t._v("count: "+t._s(t.count))]),t._v(" "),e("input",{attrs:{type:"text"},domProps:{value:t.userName},on:{input:function(i){t.updateInfo(i.target.value)}}}),t._v(" "),e("p",[t._v("Name: "+t._s(t.userName))]),t._v(" "),e("p",[t._v(t._s(t.isDone))])])},staticRenderFns:[]};var p={name:"App",components:{test:u,vdemo:e("VU/8")(_,w,!1,function(t){e("cg/y")},"data-v-2c93fa43",null).exports}},m={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"app"}},[i("test"),this._v(" "),i("vdemo",[this._v("123")])],1)},staticRenderFns:[]};var g=e("VU/8")(p,m,!1,function(t){e("Gsql")},null,null).exports,x=e("woOf"),D=e.n(x),b=e("mvHQ"),X=e.n(b),y={get:function(t){if(localStorage.getItem(t)){var i=JSON.parse(localStorage.getItem(t));return i.expires-this.time()<6e4?void this.del(t):i.value}},set:function(t,i){var e={value:i,expires:this.time()+6e4};localStorage.setItem(t,X()(e))},del:function(t){localStorage.removeItem(t)},time:function(){return(new Date).getTime()}};s.a.use(v.a);var M=new v.a.Store({state:D()({count:0,userName:null,uid:null,array:[{val:1,done:!1},{val:2,done:!0},{val:3,done:!0}]},y.get("state")),getters:{isDone:function(t){return t.array.filter(function(t){return t.done})}},mutations:{ADD:function(t,i){t.count+=i,y.set("state",t)},SUB:function(t,i){t.count-=i,y.set("state",t)},UPDATEINFO:function(t,i){t.userName=i,y.set("state",t)}},actions:{addAsync:function(t,i){var e=t.commit;setTimeout(function(){e("ADD",i)},100)},subAsync:function(t,i){var e=t.commit;setTimeout(function(){e("SUB",i)},100)},updateInfo:function(t,i){var e=t.commit;setTimeout(function(){e("UPDATEINFO",i)},100)}}});s.a.config.productionTip=!1,new s.a({el:"#app",store:M,components:{App:g},template:"<App/>"})},"cg/y":function(t,i){},xyyV:function(t,i){}},["NHnr"]);
//# sourceMappingURL=app.65bfc0540078125f9507.js.map